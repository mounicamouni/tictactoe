<!DOCTYPE html>
<html>
<head>
 <title>
  TIC TAC TOE
 </title>
    <style>
        h1{color:red;}
        table,tr,th{
		center;
        border: 20px black;
        height: 150px;
        width: 350px;
		cellpadding:5px;
		cellspacing: 5px;
		text-align:center;
		font-size : 40px;
		border-collapse:separate;
		margin:25px;
	}
	button {
    background-color: black;
    border: none;
    color: white;
    padding: 33px 33px;
	cellspacing: 5px;
    text-align: center;
    text-decoration: none;
	 display: inline-block;
    display: inline-block;
    font-size: 16px;
    margin:10px 10px;
    cursor: pointer;
	button-size:40px;
}
</style>

<script>
var i=0;
var arr=[[0,0,0],[0,0,0],[0,0,0]];
var list=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]];
var det=[0,0,0,0,0,0,0,0,0];
var flag=0;
var pos=0;
function checkRow(row)
{
    var k=0
    for(k=0;k<2;k++)
    {
        if(arr[row][k]!=arr[row][k+1])
        {
            return 0;
        }
    }
    flag=1;
    return 1;
}
function checkCol(col)
{
    var k=0
    for(k=0;k<2;k++)
    {
        if(arr[k][col]!=arr[k+1][col])
        {
            return 0;
        }
    }
    flag=1;
return 1;
}
function checkUpperDiagnol()
{
    var k=0
    for(k=0;k<2;k++)
    {
    	if(arr[k][2-k]==0)
    		return 0;
        if(arr[k][2-k]!=arr[k+1][1-k])
        {
            return 0;
        }
    }
    flag=1;
return 1;
}
function checkLowerDiagnol()
{
    var k=0
    for(k=2;k>0;k--)
    {
    	if(arr[k][k]==0)
    		return 0;
        if(arr[k][k]!=arr[k-1][k-1])
        {
        return 0;
        }
    }

    flag=1;
return 1;
}
var index=0;

function play(row,cl,id)
{

if(flag==1)
        return;
if(i==9){
    index=0;
    flag=0;
    i=0;
     window.alert("DRAW!!!!!");
    arr=[[0,0,0],[0,0,0],[0,0,0]];
    list=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]];
     det=[0,0,0,0,0,0,0,0,0];
     for(var id=1;id<10;id++)
     document.getElementById(id).innerHTML=' ';
    return; 
}

if(arr[row][cl]==0){
    if(i%2==0 && arr[row][cl]==0)
    {
    document.getElementById(id).innerHTML='X';
    arr[row][cl]=1;
    list[i][0]=row;
    list[i][1]=cl;
    det[i]='X';
    }
    else if(i%2==1 && arr[row][cl]==0)
    {
    document.getElementById(id).innerHTML='O';
    arr[row][cl]=2;
    list[i][0]=row;
    list[i][1]=cl;
    det[i]='O';
    }
    i++;
    index=i;
pos=i;


}


if(i>2)
{
    if(checkRow(row) || checkCol(cl) || checkLowerDiagnol() || checkUpperDiagnol())
    {
        if(i%2==0)
            window.alert("O won!!");
        else
           window.alert("X won!!"); 
       index=0;
    flag=0;
    i=0;
    
    arr=[[0,0,0],[0,0,0],[0,0,0]];
    list=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]];
     det=[0,0,0,0,0,0,0,0,0];
     for(var id=1;id<10;id++)
     document.getElementById(id).innerHTML=' ';
    }

}

}

function undo(){
if(i==0)
return; 
    i--;
    


    for(var k=0;k<9;k++){
        id=(list[k][0]*3+list[k][1])+1;
        document.getElementById(id).innerHTML=' ';
    }
    for(var k=0;k<i;k++){
        id=(list[k][0]*3+list[k][1])+1;
        document.getElementById(id).innerHTML=det[k];

    }

}
function redo(){
    if(i==index)
        return;
    i=i+1;
    for(var k=0;k<9;k++){
        id=(list[k][0]*3+list[k][1])+1;
        document.getElementById(id).innerHTML=' ';
    }
    for(var k=0;k<i;k++){
        id=(list[k][0]*3+list[k][1])+1;
        document.getElementById(id).innerHTML=det[k];
    }

}

</script>
<style >
    body{
        background-image: url("tic1.jpg");
    }

</style>>
</head>
<body>
<center>
<h1> TIC TAC TOE</h1>
<form name="tictactoe">
<table>
    <tr>
        <td><button type="button" id="1" onclick="play(0,0,id)"></button> </td>
        <td><button type="button" id="2" onclick="play(0,1,id)"></button> </td>
        <td><button type="button" id="3" onclick="play(0,2,id)"></button> </td>
    </tr>
    <tr>
        <td><button type="button" id="4"onclick="play(1,0,id)"></button> </td>
        <td><button type="button" id="5"onclick="play(1,1,id)"></button> </td>
        <td><button type="button" id="6"onclick="play(1,2,id)"></button> </td>
    </tr>
    <tr>
        <td><button type="button" id="7"onclick="play(2,0,id)"></button> </td>
        <td><button type="button" id="8"onclick="play(2,1,id)"></button> </td>
        <td><button type="button" id="9"onclick="play(2,2,id)"></button> </td>
    </tr>
</table>
<button type="button" id="un" onclick="undo()">UNDO</button>
<button type="button" id="re" onclick="redo()">REDO</button>
</form>
</body>
</html>

